<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
        <meta name="generator" content="Hugo 0.88.1">
        <title>Libreria</title>
        <!-- Bootstrap core CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
        <link rel="shortcut icon" th:href="@{/img/favicon.png}">
        <style>
            .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
            }

            @media (min-width: 768px) {
                .bd-placeholder-img-lg {
                    font-size: 3.5rem;
                }
            }
        </style>
        <link th:href="@{/css/styles.css}" rel="stylesheet">

    </head>
    <body>

        <header>
            <div class="collapse bg-dark" id="navbarHeader">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-8 col-md-7 py-4">
                            <h4 class="text-white">Acerca de la Pagina</h4>
                            <p class="text-muted">Pagina realizada con Spring boot,HTML5,CSS3,BOOTSTRAP5 y MySQL.<br>Proyecto realizado para el curso de programacion Full Stack de Egg</p>
                        </div>
                        <div class="col-sm-4 offset-md-1 py-4">
                            <h4 class="text-white">Contact</h4>
                            <ul class="list-unstyled">
                                <li><a href="https://www.linkedin.com/in/gaston-romo-4926b221b/" class="text-white" target="_blank">Sigueme en Linekdln</a></li>
                                <li><a href="https://github.com/GastonRomo" class="text-white" target="_blank">Mis proyectos de GitHub</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="navbar navbar-dark bg-dark shadow-sm">
                <div class="container">
                    <a href="#" class="navbar-brand d-flex align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-book me-2" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                        </svg>
                        <strong>Sistema de Libreria</strong>
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </div>
        </header>
        
        <main th:if="${error} == null AND ${exito} == null" >

            <section class="py-5 text-center container">
                <div class="row py-lg-5">
                    <div class="col-lg-6 col-md-8 mx-auto">
                        <h1 class="fw-light">Registrar:</h1>
                        <div class="container">
                            <div class="row iconos" >
                                <div class="col">
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#autorModal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-person-square" viewBox="0 0 16 16">
                                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                                        <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>
                                        </svg>
                                        <br>
                                        Autor
                                    </a>

                                    <!-- Modal -->
                                    <div class="modal fade" id="autorModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered ">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Registrar Autor</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <form th:action="@{/autor/registrar}" method="POST">
                                                        <div class="mb-3">
                                                            <label for="nombreAutor" class="form-label">Nombre del autor:</label>
                                                            <input type="text" class="form-control" id="nombre" name="nombre">
                                                        </div>

                                                        <button type="submit" class="btn btn-primary">Registrar Autor</button>
                                                    </form>
                                                </div>
                                                <div class="modal-footer">
                                                    <a th:href="@{/autor/administrar}">
                                                        <button type="button" class="btn btn-primary">Administrar Autores</button>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col">
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#clienteModal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                                        <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
                                        </svg>
                                        <br>
                                        Cliente
                                    </a>
                                    <!-- Modal -->
                                    <div class="modal fade" id="clienteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered ">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Registrar Cliente</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <form th:action="@{/cliente/registrar}" method="POST">
                                                        <div class="mb-3">
                                                            <label for="dniCliente" class="form-label">Numero de Documento:</label>
                                                            <input type="number" class="form-control" id="dniCliente" name="documento">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="nombreCliente" class="form-label">Nombre:</label>
                                                            <input type="text" class="form-control" id="nombreCliente" name="nombre">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="apellidoCliente" class="form-label">Apellido:</label>
                                                            <input type="text" class="form-control" id="apellidoCliente" name="apellido">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="telCliente" class="form-label">Telefono:</label>
                                                            <input type="text" class="form-control" id="telCliente" name="telefono">
                                                        </div>

                                                        <button type="submit" class="btn btn-primary">Registrar Cliente</button>
                                                    </form>
                                                </div>
                                                <div class="modal-footer">
                                                    <a th:href="@{/cliente/administrar}">
                                                        <button type="button" class="btn btn-primary">Administrar Clientes</button>
                                                    </a>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#editorialModal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-book-half" viewBox="0 0 16 16">
                                        <path d="M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                                        </svg>
                                        <br>
                                        Editorial
                                    </a>
                                    <!-- Modal -->
                                    <div class="modal fade" id="editorialModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered ">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Registrar Editorial</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <form th:action="@{/editorial/registrar}" method="POST">
                                                        <div class="mb-3">
                                                            <label for="nombreEditorial" class="form-label">Nombre de la Editorial</label>
                                                            <input type="text" class="form-control" id="nombreEditorial" name="nombre">
                                                        </div>

                                                        <button type="submit" class="btn btn-primary">Registrar Editorial</button>
                                                    </form>
                                                </div>
                                                <div class="modal-footer">
                                                    <a th:href="@{/editorial/administrar}">
                                                        <button type="button" class="btn btn-primary">Administrar Editoriales</button>
                                                    </a>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#libroModal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-book-fill" viewBox="0 0 16 16">
                                        <path d="M8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                                        </svg>
                                        <br>
                                        Libro
                                    </a>
                                    <!-- Modal -->
                                    <div class="modal fade" id="libroModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered ">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Registrar Libro</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <form th:action="@{/libro/registrar}" method="POST" enctype="multipart/form-data">
                                                        <label>Foto del Libro:</label>
                                                        <input type="file" class="form-control" name="archivo">

                                                        <div class="mb-3">
                                                            <label for="isbn" class="form-label">ISBN del libro:</label>
                                                            <input type="number" class="form-control" id="isbn" name="isbn">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="tituloLibro" class="form-label">Titulo:</label>
                                                            <input type="text" class="form-control" id="tituloLibro" name="titulo">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="añoLibro" class="form-label">Año:</label>
                                                            <input type="number" class="form-control" id="añoLibro" name="anio">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="ejemplaresLibro" class="form-label">Cantidad de Ejemplares:</label>
                                                            <input type="number" class="form-control" id="ejemplaresLibro" name="ejemplares">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="ejemPrest" class="form-label">Ejemplares Prestados:</label>
                                                            <input type="number" class="form-control" id="ejemPrest" name="ejemPrestados">
                                                        </div>

                                                        <label>Autor</label>
                                                        <select name="idAutor" class="form-control">
                                                            <option th:each="autor: ${autores}" th:value="${autor.id}" th:text="${autor.nombre}"></option>
                                                        </select>

                                                        <label>Editorial</label>
                                                        <select name="idEditorial" class="form-control">
                                                            <option th:each="editorial: ${editoriales}" th:value="${editorial.id}" th:text="${editorial.nombre}"></option>
                                                        </select>

                                                        <button type="submit" class="btn btn-primary mt-2">Registrar Libro</button>
                                                    </form>
                                                </div>
                                                <div class="modal-footer">
                                                    <a th:href="@{/libro/administrar}">
                                                        <button type="button" class="btn btn-primary">Administrar Libros</button>
                                                    </a>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col">
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#prestamoModal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-bag-plus" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z"/>
                                        <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"/>
                                        </svg>
                                        <br>
                                        Prestamo
                                    </a>
                                    <!-- Modal -->
                                    <div class="modal fade" id="prestamoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered ">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Registrar Prestamo</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <form th:action="@{/prestamo/registrar}" method="POST">
                                                        <label>Seleccione el Libro</label>
                                                        <select name="idLibro" class="form-control">
                                                            <option th:each="libro: ${libros}" th:value="${libro.id}" th:text="${libro.titulo}" name="idLibro"></option>
                                                        </select>
                                                        <div class="mb-3">
                                                            <label for="fechaPrestamo" class="form-label">Fecha de Prestamo</label>
                                                            <input type="date" class="form-control" id="fechaPrestamo" name="fechaPrestamo">
                                                        </div>
                                                        <div class="mb-3">
                                                            <label for="fechaDevolucion" class="form-label">Fecha de Devolucion</label>
                                                            <input type="date" class="form-control" id="fechaDevolucion" name="fechaDevolucion">
                                                        </div>

                                                        <label>Seleccione el Cliente</label>
                                                        <select name="idCliente" class="form-control">
                                                            <option th:each="cliente: ${clientes}" th:value="${cliente.id}" th:text="${cliente.nombre+' '+cliente.apellido }" name="idCliente"></option>
                                                        </select>

                                                        <button type="submit" class="btn btn-primary mt-2">Registrar Prestamo</button>
                                                    </form>
                                                </div>
                                                <div class="modal-footer">
                                                    <a th:href="@{/prestamo/administrar}">
                                                        <button type="button" class="btn btn-primary">Administrar Prestamos</button>
                                                    </a>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <hr>
                        <h1 class="fw-light">Libros Registrados</h1>
                        <a href="#librosDisp" class="link-dark">
                            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="70" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
                            </svg>
                        </a>

                    </div>
                </div>
            </section>
            <div class="album py-5 bg-dark bg-gradient" id="librosDisp">
                <div class="container">
                    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                        <div class="col" th:each="libro : ${libros}">
                            <div class="card shadow-sm">
                                <img th:src="${'/foto/libro?id='+libro.id}" style="width: auto; height: auto; max-width: 100%; ">
                                <hr>
                                <div class="card-body">
                                    <p class="card-text" th:text="${'Titulo: '+libro.titulo}"></p>
                                    <p class="card-text" th:text="${'Autor: '+libro.autor.nombre}"></p>
                                    <p class="card-text" th:text="${'Editorial: '+libro.editorial.nombre}"></p>
                                    <p class="card-text" th:text="${'Ejemplares: '+libro.ejemplares}"></p>
                                    <p class="card-text" th:text="${'Ejemplares Prestados '+libro.ejemPrestados}"></p>
                                    <p class="card-text" th:text="${'Ejemplares Restantes: '+libro.ejemRestantes}"></p>
                                    <div class="d-flex justify-content-between align-items-center">
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </main>
        <!-- Mensajes de Exito y Error -->
        <div class="container py-5 mt-3 text-center">
            <div th:if="${exito}!=null" class="card text-white bg-success mb-3" >
                <div class="card-body">
                    <br>
                    <h5 class="card-title">Exito</h5>
                    <p class="card-text" th:text="${exito}"></p>
                    <a th:href="@{/}">Volver Inicio</a>
                </div>
            </div>
            <div th:if="${error}!=null" class="card text-white bg-danger mb-3" >
                <div class="card-body">
                    <br>
                    <h5 class="card-title">Error</h5>
                    <p class="card-text" th:text="${error}"></p>
                    <a th:href="@{/}">Volver Inicio</a>
                </div>
            </div>
        </div>
        
        <footer class="text-muted py-5 ">
            <div class="container">
                <p class="float-end mb-1">
                    <a href="#">Ir arriba</a>
                </p>
                <p class="mb-1">Pagina de registracion de la libreria</p>
            </div>
        </footer>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    </body>
</html>
